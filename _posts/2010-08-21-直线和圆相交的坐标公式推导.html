---
layout: post
status: publish
published: true
title: "直线和圆相交的坐标公式推导"
author: Leask




author_login: leask
author_email: i@leaskh.com
author_url: https://leaskh.com
wordpress_id: 8
wordpress_url: http://leaskh.wordpress.com/2010/08/21/%e7%9b%b4%e7%ba%bf%e5%92%8c%e5%9c%86%e7%9b%b8%e4%ba%a4%e7%9a%84%e5%9d%90%e6%a0%87%e5%85%ac%e5%bc%8f%e6%8e%a8%e5%af%bc
date: '2010-08-21 17:32:26 +0800'
date_gmt: '2010-08-21 17:32:26 +0800'
categories:

tags: []
comments: []
---
<div id="msgcns!15BAC1A170471DB!15370" class="bvMsg">
<p>今天需要实现一个求直线和圆相交坐标的算法，其实公式不难推，但是推了好几回，由于粗心，总是算错，于是耐心算了一下，把过程写写，碰巧有用的就要了去吧。
<p>1: Ax + By + C = 0<br />2: (x - d)^2 + (y - e)^2 = r^2
<p>1: -By = Ax + C<br />2: (x - d)^2 + (y - e)^2 - r^2 = 0
<p>1: y = (Ax + C) / (-B)<br />2: x^2 - 2dx + d^2 + y^2 - 2ey + e^2 - r^2 = 0
<p>put 1 into 2 => 3 : x^2 - 2dx + d^2 + [(Ax + C) / (-B)]^2 - 2e[(Ax + C) / (-B)] + e^2 - r^2 = 0
<p>3: x^2 - 2dx + d^2 + [(Ax + C)^2 / B^2] + 2e[(Ax + C) / B] + e^2 - r^2 = 0
<p>3: x^2 - 2dx + d^2 + &#123;[(Ax)^2 + 2ACx + c^2] / B^2&#125; + [(2eAx + 2eC) / B] + e^2 - r^2 = 0
<p>3 * B^2 => 4: B^2 * x^2 - 2dx * B^2 + d^2 * B^2 + A^2 * x^2&nbsp; + 2ACx + c^2 + 2eABx + 2eBC + e^2 * B^2 - r^2 * B^2 = 0
<p>4: (B^2 + A^2)x^2 + (2eAB + 2AC - 2dB^2)x&nbsp; + d^2B^2 + c^2 + 2eBC + e^2B^2 - r^2 * B^2 = 0 </p>
<p>&nbsp;</p>
<p>Fx^2 + Gx + H = 0<br />&#123;<br />&nbsp;&nbsp;&nbsp; F = B^2 + A^2<br />&nbsp;&nbsp;&nbsp; G = 2eAB + 2AC - 2dB^2<br />&nbsp;&nbsp;&nbsp; H = d^2B^2 + c^2 + 2eBC + e^2B^2 - r^2B^2<br />&#125;</p>
<p>&nbsp;</p>
<p>用F、G、H构成一元二次方程，解得x，用x解得y就可以了。还需要注意的是实数根和虚根的问题哦。</p>  </div></p>
